{"version":3,"sources":["components/Searchbar/SearchBar.jsx","components/ImageGalleryItem/ImageGalleryItem.styled.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","components/App.js","index.js"],"names":["SearchBar","state","searchQuery","handleInputChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","warn","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","GalleryList","styled","ul","ListItem","li","ImageGalleryItem","images","map","id","webformatURL","tags","src","alt","width","height","ContentLoader","color","timeout","LoadMoreButton","onClick","ImageGallery","page","status","handleLoadMoreBtnClick","prevState","prevProps","currentQuery","prevQuery","prevPage","currentPage","fetch","then","response","json","data","totalHits","hits","App","handleFormSubmit","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6b4ceb6a.chunk.js","sourcesContent":["import { Component } from \"react\";\nimport { toast } from \"react-toastify\";\n\nexport class SearchBar extends Component {\n  state = {\n    searchQuery: \"\",\n  };\n\n  handleInputChange = (e) => {\n    this.setState({ searchQuery: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (this.state.searchQuery.trim() === \"\") {\n      toast.warn(\"Введите поисковый запрос\");\n      return;\n    }\n\n    this.props.onSubmit(this.state.searchQuery);\n    this.setState({ searchQuery: \"\" });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchQuery}\n            onChange={this.handleInputChange}\n          />\n\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n        </form>\n      </header>\n    );\n  }\n}\n","import styled from \"@emotion/styled\";\n\nexport const GalleryList = styled.ul`\n  list-style: none;\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nexport const ListItem = styled.li`\n  width: 310px;\n  margin: 5px;\n  object-fit: cover;\n`;\n","import { GalleryList, ListItem } from \"./ImageGalleryItem.styled\";\n\nexport function ImageGalleryItem({ images }) {\n  return (\n    <GalleryList>\n      {images.map(({ id, webformatURL, tags }) => {\n        return (\n          <ListItem key={id}>\n            <img src={webformatURL} alt={tags} width=\"300\" height=\"200\" />\n          </ListItem>\n        );\n      })}\n    </GalleryList>\n  );\n}\n","import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\n\nexport function ContentLoader() {\n  return (\n    <Loader\n      type=\"Puff\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={3000} //3 secs\n    />\n  );\n}\n","export function LoadMoreButton({ onClick }) {\n  return (\n    <button type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n","import { Component } from \"react\";\nimport { ImageGalleryItem } from \"../ImageGalleryItem/ImageGalleryItem\";\nimport { ContentLoader } from \"../Loader/Loader\";\nimport { LoadMoreButton } from \"../Button/Button\";\n\nexport class ImageGallery extends Component {\n  state = {\n    images: [],\n    page: 1,\n    status: \"idle\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const currentQuery = this.props.searchQuery;\n    const prevQuery = prevProps.searchQuery;\n    const prevPage = prevState.page;\n    const currentPage = this.state.page;\n    const { page } = this.state;\n\n    if (currentQuery !== prevQuery || prevPage !== currentPage) {\n      fetch(\n        `https://pixabay.com/api/?key=22675606-31d87174acbb5d82d82bc8eb4&q=${currentQuery}&page=${page}&image_type=photo&orientation=horizontal&per_page=20`\n      )\n        .then((response) => response.json())\n        .then((data) => {\n          if (data.totalHits === 0) {\n            return this.setState({ status: \"rejected\" });\n          }\n\n          if (this.state.page === 1) {\n            this.setState({ status: \"pending\" });\n            return this.setState({ images: data.hits, status: \"resolved\" });\n          }\n\n          if (this.state.page > 1) {\n            return this.setState((prevState) => ({\n              images: [...prevState.images, ...data.hits],\n              status: \"resolved\",\n            }));\n          }\n        });\n    }\n  }\n\n  handleLoadMoreBtnClick = (e) => {\n    e.preventDefault();\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n    return;\n  };\n\n  render() {\n    const { status } = this.state;\n\n    if (status === \"idle\") {\n      return <p>Пожалуйста, введите поисковый запрос.</p>;\n    }\n\n    if (status === \"pending\") {\n      return <ContentLoader />;\n    }\n\n    if (status === \"resolved\") {\n      return (\n        <div>\n          <ImageGalleryItem images={this.state.images} />\n          <LoadMoreButton onClick={this.handleLoadMoreBtnClick} />\n        </div>\n      );\n    }\n\n    if (status === \"rejected\") {\n      return <p>Изображения с именем {this.props.searchQuery} не найдены!</p>;\n    }\n  }\n}\n","import { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport { SearchBar } from \"./Searchbar/SearchBar\";\nimport { ImageGallery } from \"./ImageGallery/ImageGallery\";\n\nclass App extends Component {\n  state = {\n    searchQuery: \"\",\n  };\n\n  handleFormSubmit = (searchQuery) => {\n    this.setState({ searchQuery });\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n    return (\n      <div>\n        <SearchBar onSubmit={this.handleFormSubmit} />\n        <ImageGallery searchQuery={searchQuery} />\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"./index.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}