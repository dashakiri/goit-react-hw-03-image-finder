{"version":3,"sources":["components/Searchbar/SearchBar.styled.js","components/Searchbar/SearchBar.jsx","components/ImageGalleryItem/ImageGalleryItem.styled.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Loader/Loader.jsx","components/Button/LoadMoreButton.styled.js","components/Button/Button.jsx","components/Modal/Modal.styled.js","components/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","components/FetchImages/FetchImages.jsx","components/App.js","index.js"],"names":["Header","styled","header","Form","form","Input","input","Button","button","SearchBar","state","searchQuery","handleInputChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","warn","this","type","autoComplete","autoFocus","placeholder","onChange","Component","GalleryList","ul","ListItem","li","img","ImageGalleryItem","webformatURL","tags","onClick","src","alt","width","height","ContentLoader","color","timeout","ButtonLoadMore","LoadMoreButton","ModalBackdrop","div","ModalContent","modalRoot","document","querySelector","Modal","handleKeydown","code","onModalClose","handleBackdropClick","target","window","addEventListener","body","style","overflow","createPortal","largeImageUrl","ImageGallery","images","page","largeImageURL","status","handleLoadMoreBtnClick","prevState","prevProps","currentQuery","prevQuery","prevPage","currentPage","fetch","then","response","json","FetchImages","data","totalHits","hits","scrollTo","top","documentElement","scrollHeight","behavior","map","id","App","handleFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.676bf733.chunk.js","sourcesContent":["import styled from \"@emotion/styled\";\n\nexport const Header = styled.header`\n  width: 100%;\n  height: 50px;\n  background-color: lightgrey;\n`;\n\nexport const Form = styled.form`\n  display: flex;\n  justify-content: center;\n  padding: 15px;\n`;\n\nexport const Input = styled.input`\n  width: 250px;\n  height: 15px;\n`;\n\nexport const Button = styled.button`\n  &:hover,\n  &:focus {\n    background-color: white;\n    cursor: pointer;\n  }\n`;\n","import { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { Header, Form, Input, Button } from \"./SearchBar.styled\";\n\nexport class SearchBar extends Component {\n  state = {\n    searchQuery: \"\",\n  };\n\n  handleInputChange = (e) => {\n    this.setState({ searchQuery: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (this.state.searchQuery.trim() === \"\") {\n      toast.warn(\"Введите поисковый запрос\");\n      return;\n    }\n\n    this.props.onSubmit(this.state.searchQuery);\n    this.setState({ searchQuery: \"\" });\n  };\n\n  render() {\n    return (\n      <Header>\n        <Form onSubmit={this.handleSubmit}>\n          <Input\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchQuery}\n            onChange={this.handleInputChange}\n          />\n\n          <Button type=\"submit\">\n            <span>Search</span>\n          </Button>\n        </Form>\n      </Header>\n    );\n  }\n}\n","import styled from \"@emotion/styled\";\n\nexport const GalleryList = styled.ul`\n  list-style: none;\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nexport const ListItem = styled.li`\n  width: 300px;\n  height: 200px;\n  margin: 5px;\n  object-fit: cover;\n\n  &:hover,\n  &:focus {\n    // border: 1px solid lightgrey;\n    cursor: pointer;\n  }\n`;\n\nexport const Image = styled.img`\n  display: inline-block;\n  object-fit: cover;\n`;\n","import { ListItem } from \"./ImageGalleryItem.styled\";\n\nexport function ImageGalleryItem({ webformatURL, tags, onClick }) {\n  return (\n    <ListItem onClick={onClick}>\n      <img src={webformatURL} alt={tags} width=\"300\" height=\"200\" />\n    </ListItem>\n  );\n}\n","import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\n\nexport function ContentLoader() {\n  return (\n    <Loader\n      type=\"Puff\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={3000} //3 secs\n    />\n  );\n}\n","import styled from \"@emotion/styled\";\n\nexport const ButtonLoadMore = styled.button`\n  display: flex;\n  justify-content: center;\n  width: 150px;\n  wight: 35px;\n  margin: 0 auto;\n\n  background-color: white;\n  border: 1px solid grey;\n  border-radius: 7%;\n\n  &:hover,\n  &:focus {\n    background-color: grey;\n    border: 1px solid white;\n    cursor: pointer;\n  }\n`;\n","import { ButtonLoadMore } from \"./LoadMoreButton.styled\";\n\nexport function LoadMoreButton({ onClick }) {\n  return (\n    <ButtonLoadMore type=\"button\" onClick={onClick}>\n      Load more\n    </ButtonLoadMore>\n  );\n}\n","import styled from \"@emotion/styled\";\n\nexport const ModalBackdrop = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.5);\n`;\n\nexport const ModalContent = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  height: 600px;\n  width: 960px;\n  padding: 12px;\n  background-color: #fff;\n  border-radius: 3px;\n  box-shadow: 0px 2px 1px -1px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n`;\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { ModalBackdrop, ModalContent } from \"./Modal.styled\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeydown);\n    document.body.style.overflow = \"hidden\";\n  }\n\n  componentWillUnmount() {\n    window.addEventListener(\"keydown\", this.handleKeydown);\n    document.body.style.overflow = \"unset\";\n  }\n\n  handleKeydown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onModalClose();\n    }\n  };\n\n  handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onModalClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <ModalBackdrop onClick={this.handleBackdropClick}>\n        <ModalContent>\n          <img\n            src={this.props.largeImageUrl}\n            alt={this.props.tags}\n            width=\"960\"\n            height=\"600\"\n          />\n        </ModalContent>\n      </ModalBackdrop>,\n      modalRoot\n    );\n  }\n}\n","import { Component } from \"react\";\nimport { ImageGalleryItem } from \"../ImageGalleryItem/ImageGalleryItem\";\nimport { ContentLoader } from \"../Loader/Loader\";\nimport { FetchImages } from \"../FetchImages/FetchImages\";\nimport { LoadMoreButton } from \"../Button/Button\";\nimport { GalleryList } from \"../ImageGalleryItem/ImageGalleryItem.styled\";\nimport { Modal } from \"../Modal/Modal\";\n\nexport class ImageGallery extends Component {\n  state = {\n    images: [],\n    page: 1,\n    largeImageURL: null,\n    status: \"idle\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const currentQuery = this.props.searchQuery;\n    const prevQuery = prevProps.searchQuery;\n    const prevPage = prevState.page;\n    const currentPage = this.state.page;\n    const { page } = this.state;\n\n    if (currentQuery !== prevQuery || prevPage !== currentPage) {\n      FetchImages(currentQuery, page).then((data) => {\n        if (data.totalHits === 0) {\n          return this.setState({ status: \"rejected\" });\n        }\n\n        if (this.state.page === 1) {\n          this.setState({ status: \"pending\" });\n          return this.setState({ images: data.hits, status: \"resolved\" });\n        }\n\n        if (this.state.page > 1) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n\n          return this.setState((prevState) => ({\n            images: [...prevState.images, ...data.hits],\n            status: \"resolved\",\n          }));\n        }\n      });\n    }\n  }\n\n  handleLoadMoreBtnClick = (e) => {\n    e.preventDefault();\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n    return;\n  };\n\n  onModalClose = () => {\n    this.setState({ largeImageURL: null });\n  };\n\n  render() {\n    const { status, images, largeImageURL } = this.state;\n\n    if (status === \"idle\") {\n      return <p>Пожалуйста, введите поисковый запрос.</p>;\n    }\n\n    if (status === \"pending\") {\n      return <ContentLoader />;\n    }\n\n    if (status === \"resolved\") {\n      return (\n        <GalleryList>\n          {images.map(({ id, webformatURL, tags, largeImageURL }) => {\n            return (\n              <ImageGalleryItem\n                key={id}\n                webformatURL={webformatURL}\n                tags={tags}\n                largeImageURL={largeImageURL}\n                onClick={() => {\n                  this.setState({ largeImageURL: largeImageURL });\n                }}\n              />\n            );\n          })}\n\n          {largeImageURL && (\n            <Modal\n              largeImageUrl={largeImageURL}\n              onModalClose={this.onModalClose}\n            />\n          )}\n\n          <LoadMoreButton onClick={this.handleLoadMoreBtnClick} />\n        </GalleryList>\n      );\n    }\n\n    if (status === \"rejected\") {\n      return <p>Изображения с именем {this.props.searchQuery} не найдены!</p>;\n    }\n  }\n}\n","export function FetchImages(searchQuery, page) {\n  const KEY = \"22675606-31d87174acbb5d82d82bc8eb4\";\n  return fetch(\n    `https://pixabay.com/api/?key=${KEY}&q=${searchQuery}&page=${page}&image_type=photo&orientation=horizontal&per_page=20`\n  ).then((response) => {\n    return response.json();\n  });\n}\n","import { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport { SearchBar } from \"./Searchbar/SearchBar\";\nimport { ImageGallery } from \"./ImageGallery/ImageGallery\";\n\nclass App extends Component {\n  state = {\n    searchQuery: \"\",\n  };\n\n  handleFormSubmit = (searchQuery) => {\n    this.setState({ searchQuery });\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n    return (\n      <div>\n        <SearchBar onSubmit={this.handleFormSubmit} />\n        <ImageGallery searchQuery={searchQuery} />\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"./index.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}